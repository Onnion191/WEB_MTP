<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WindowAddon Documentation: Drawing and storing an Image</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="inline_params.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WindowAddon Documentation
   &#160;<span id="projectnumber">Stable 1.1</span>
   </div>
   <div id="projectbrief">WindowAddon is a simple light-weight C++ library based on Allegro to get started in computer graphics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('images.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Drawing and storing an <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>And what if you want to load and draw a pre-existing image? Or what if you want to export your current drawing as a file? Well, you can do both things without any problem. <br />
<br />
 As with the fonts, you can instantiate and load an <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> directly to your program with its constructor <a class="el" href="struct_image.html#a58edd1c45b4faeb5f789b0d036d02313">Image::Image()</a>, without interacting with the <a class="el" href="class_window.html" title="Mid-level interface class that allows you to access all the functionalities of the library...">Window</a> at all. This is useful if you want to reuse it, but very impractical if you only want to draw this image once. You can also load an image through the <a class="el" href="class_window.html" title="Mid-level interface class that allows you to access all the functionalities of the library...">Window</a> with <a class="el" href="group__window__images.html#gab30f19e9d4ac08be56c79affc9a9ca30">Window::loadImage()</a>. This method returns the loaded <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> if all went OK, and an invalid <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> if not (see <a class="el" href="struct_image.html#ac78aa7b47e7a8b279d2e95ac309ab375">Image::isValid()</a> for more details). And last but not least, you can draw directly an image to the <a class="el" href="class_window.html" title="Mid-level interface class that allows you to access all the functionalities of the library...">Window</a>, without having to explicitly load it. Let's see how those three alternatives work.</p>
<p>One thing that these alternatives have in common is that they require the path of an image file, and if the <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> cannot be loaded correctly, will generate an invalid <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> and throw an exception if used.</p>
<h1><a class="anchor" id="load_image"></a>
Loading an Image</h1>
<h2><a class="anchor" id="load_image_explicitly"></a>
Explicitly instantiating an Image</h2>
<p>As simple as it sounds, you only must instantiate the <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> giving as a parameter the path where the file can be found. Let's see an example: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv){</div><div class="line">    <a class="code" href="class_window.html">Window</a> w(300,300);</div><div class="line"></div><div class="line">    <a class="code" href="struct_image.html">Image</a> i(<span class="stringliteral">&quot;city.png&quot;</span>); <span class="comment">//relative file path</span></div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__images.html#ga8bd5074f5a1e0215e688508544bc9b89">image</a>(i, 50, 50);</div><div class="line">    </div><div class="line">    w.<a class="code" href="group__event__handling.html#ga4835984c1a66bbe02065873d9133b5ea">waitWindowCloseButton</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> And if your path was correct, you'll see the image printed to the screen. We will explore in more detail how to draw images later. <br />
<br />
</p>
<h2><a class="anchor" id="load_image_window"></a>
Loading an Image using the Window method</h2>
<p>Another way of loading the <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> explicitly is using <a class="el" href="group__window__images.html#gab30f19e9d4ac08be56c79affc9a9ca30">Window::loadImage()</a> method. Given an image path and some optional parameters, it loads and returns us the <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> object. Let's see an example: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv){</div><div class="line">    <a class="code" href="class_window.html">Window</a> w(300,300);</div><div class="line"></div><div class="line">    <a class="code" href="struct_image.html">Image</a> i = w.<a class="code" href="group__window__images.html#gab30f19e9d4ac08be56c79affc9a9ca30">loadImage</a>(<span class="stringliteral">&quot;city.png&quot;</span>); <span class="comment">//relative file path</span></div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__images.html#ga8bd5074f5a1e0215e688508544bc9b89">image</a>(i, 50, 50);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__event__handling.html#ga4835984c1a66bbe02065873d9133b5ea">waitWindowCloseButton</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> Both ways are equivalent, choose the one you prefer. Note that in these examples we're also drawing the image. Obviously, <a class="el" href="group__window__images.html#ga8bd5074f5a1e0215e688508544bc9b89">Window::image()</a> is not part of loading an <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> to your program.</p>
<h1><a class="anchor" id="draw_image"></a>
Drawing an Image</h1>
<p>Now that we've seen how to load images, let's see how to draw them. There's two basic ways of drawing any <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a>: explicitly and implicitly. If you load an <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> explicitly (as shown on <a class="el" href="images.html#load_image">Loading an Image</a>), you will have somewhere on your program a variable of type <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> that stores the information about it. Doing it this way has a very obvious advantage: you can check whether the <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> has been loaded correctly or not. You can do it with <a class="el" href="struct_image.html#ac78aa7b47e7a8b279d2e95ac309ab375">Image::isValid()</a> or <a class="el" href="struct_image.html#a785aa7136efdfa46249001d8430b78a8">Image::isInvalid()</a>. <br />
<br />
 But if you're sure that your image will be correctly loaded, then you can draw it implicitly: you give a file path to the drawing method and it will load and draw the image for you, without having any <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> variable at all. You'll find some examples of both things below. <br />
<br />
 As with text, an <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> can be drawn using a primitive or using a Turtle. Let's see how you would do that.</p>
<h2><a class="anchor" id="window_draw_image"></a>
Drawing an Image with a Window primitive</h2>
<p>First step before drawing and <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> is to check that you have the correct path of its file. Remember that if an invalid <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> is drawn, an exception will be thrown. I've downloaded a city icon and moved it to the main directory of my program. I recommend you use the built-in resources folder to store your assets, or maybe creating a new directory to put them. <br />
<br />
 Once this is done, we can test the following code: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv){</div><div class="line">    <a class="code" href="class_window.html">Window</a> w(300,300);</div><div class="line"></div><div class="line">    <a class="code" href="struct_image.html">Image</a> i(<span class="stringliteral">&quot;city.png&quot;</span>); <span class="comment">//relative file path</span></div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__images.html#ga8bd5074f5a1e0215e688508544bc9b89">image</a>(i, 50, 50);</div><div class="line">    </div><div class="line">    w.<a class="code" href="group__event__handling.html#ga4835984c1a66bbe02065873d9133b5ea">waitWindowCloseButton</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> This example loads the <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> explicitly. You can also do something like: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv){</div><div class="line">    <a class="code" href="class_window.html">Window</a> w(300,300);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__images.html#ga8bd5074f5a1e0215e688508544bc9b89">image</a>(<span class="stringliteral">&quot;city.png&quot;</span>, 50, 50);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__event__handling.html#ga4835984c1a66bbe02065873d9133b5ea">waitWindowCloseButton</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> These two codes are equivalent, and generate the following output: </p><div class="image">
<img src="draw_image.png" alt="draw_image.png"/>
</div>
<p> You can check the documentation about <a class="el" href="group__window__images.html#ga8bd5074f5a1e0215e688508544bc9b89">Window::image()</a> for more details. You can also look at <a class="el" href="group__window__images.html#ga2fc0003e291b18a003effd047469a703">Window::rotated_image()</a> if you're interested in that.</p>
<h2><a class="anchor" id="turtle_draw_image"></a>
Drawing an Image with a Turtle</h2>
<p>Using a primitive isn't the only way to draw an image. You can also draw one using the position of a Turtle instead of a defined point in the screen. Let's see how it works: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv){</div><div class="line">    <a class="code" href="class_window.html">Window</a> w(300,300);</div><div class="line"></div><div class="line">    <a class="code" href="struct_image.html">Image</a> i(<span class="stringliteral">&quot;city.png&quot;</span>);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__turtles.html#ga03f47cbfac62692dc7c265d08f712fe7">t_setPos</a>(50, 50);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__turtles.html#gab508844ced31f04c2d8a2a8286ba6a16">t_image</a>(i);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__event__handling.html#ga4835984c1a66bbe02065873d9133b5ea">waitWindowCloseButton</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> This example also loads the <a class="el" href="struct_image.html" title="Struct that holds the information of an Allegro bitmap to be represented on the Window. ">Image</a> explicitly. An implicit version of it would be: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv){</div><div class="line">    <a class="code" href="class_window.html">Window</a> w(300,300);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__turtles.html#ga03f47cbfac62692dc7c265d08f712fe7">t_setPos</a>(50, 50);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__turtles.html#gab508844ced31f04c2d8a2a8286ba6a16">t_image</a>(<span class="stringliteral">&quot;city.png&quot;</span>);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__event__handling.html#ga4835984c1a66bbe02065873d9133b5ea">waitWindowCloseButton</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> These two codes are equivalent, and generate the following output: </p><div class="image">
<img src="draw_image.png" alt="draw_image.png"/>
</div>
<h1><a class="anchor" id="save_image"></a>
Saving an Image</h1>
<p>One of the features that the library has is the ability to save the actual screen state to a bitmap and output it as an image to a file. Unfortunately, saving to a variable on your program is not supported. But you can still do plenty of things with this feature. Let's see an example of how this works. <br />
<br />
 First, we draw something to the screen. Then, we call <a class="el" href="group__window__images.html#gab0582d07704f7815b78c915c2b42083f">Window::saveToFile()</a> indicating the (absolute or relative) path where the file will be saved and the extension of that file (png or jpg). The path must not contain the extension of the file. By default, if none of these parameters are indicated, the image will be saved on the run directory of the program with its name being <em>image.png</em>. Let's see how it works: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv){</div><div class="line">    <a class="code" href="class_window.html">Window</a> w(200,200);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__primitives.html#ga06b0cf29e6c30ed01c09acf5d252cfb8">triangle</a>(30, 50, 170, 50, 100, 170);</div><div class="line">    w.<a class="code" href="group__window__primitives.html#gabb963b060f24e55dc41fc0feb86ae28e">circle</a>(100, 90, 40, BLACK);</div><div class="line">    w.<a class="code" href="group__window__primitives.html#gac158072a95f7f3a1599b129b4b66577d">line</a>(100, 170, 100, 50);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__window__images.html#gab0582d07704f7815b78c915c2b42083f">saveToFile</a>(<span class="stringliteral">&quot;screenshot&quot;</span>,<span class="stringliteral">&quot;png&quot;</span>);</div><div class="line"></div><div class="line">    w.<a class="code" href="group__event__handling.html#ga4835984c1a66bbe02065873d9133b5ea">waitWindowCloseButton</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> As a result of this code, we will find a file called <em>screenshot.png</em> in the running directory of our program. </p><div class="image">
<img src="image_in_explorer.png" alt="image_in_explorer.png"/>
</div>
<p> And this image contains all the drawings you've done: </p><div class="image">
<img src="screenshot.png" alt="screenshot.png"/>
</div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
